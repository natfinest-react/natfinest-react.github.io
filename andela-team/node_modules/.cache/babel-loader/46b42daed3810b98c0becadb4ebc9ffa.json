{"ast":null,"code":"var _jsxFileName = \"/Users/user/Documents/Andela_Teamwork_Frontend/frontend/src/containers/Articles/index.js\";\nimport React, { useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { articlesSelector, postArticle, fetchArticles } from \"../../slices/articles\";\nimport { Field, Form, Formik } from \"formik\";\nimport { TextField } from \"material-ui-formik-components/TextField\";\nimport { Select } from \"material-ui-formik-components/Select\";\nimport { Container, Grid, Card, CardContent, Typography, Button } from \"@material-ui/core\";\nimport Article from \"../../components/Article\";\nimport Sidebar from \"../../components/Sidebar\";\nimport Modal from \"@material-ui/core/Modal\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport Fade from \"@material-ui/core/Fade\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nconst useStyles = makeStyles(theme => ({\n  media: {\n    height: 140\n  },\n  root: {\n    width: \"100%\",\n    maxWidth: 360,\n    backgroundColor: \"#fff\"\n  },\n  bs: {\n    boxShadow: \"2px 2px 7px 1px #ccc\"\n  },\n  modal: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    outline: 0\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    border: \"2px solid #000\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3)\n  },\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: \"#fff\"\n  }\n}));\n\nconst Articles = props => {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n  const [openBackdrop, setOpenBackdrop] = React.useState(false);\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleBackdropClose = () => {\n    openBackdrop(false);\n  };\n\n  const handleBackdropToggle = () => {\n    setOpenBackdrop(!open);\n  };\n\n  const dispatch = useDispatch();\n  const {\n    articles\n  } = useSelector(articlesSelector);\n  var token;\n\n  if (!props.location.state) {\n    token = \"\";\n  } else {\n    token = props.location.state.id;\n  }\n\n  useEffect(() => {\n    dispatch(fetchArticles(token));\n  }, [dispatch]);\n\n  const renderArticles = () => {\n    return articles.map(article => /*#__PURE__*/React.createElement(Article, {\n      key: article.id,\n      article: article,\n      excerpt: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 7\n      }\n    }));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"outlined\",\n    color: \"primary\",\n    onClick: handleBackdropToggle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }\n  }, \"Show backdrop\"), /*#__PURE__*/React.createElement(Backdrop, {\n    className: classes.backdrop,\n    open: open,\n    onClick: handleBackdropClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CircularProgress, {\n    color: \"inherit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Container, {\n    maxWidth: \"lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    alignItems: \"center\",\n    container: true,\n    spacing: 1,\n    style: {\n      marginTop: 100\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    xs: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  }, \"Articles\")), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    xs: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: handleOpen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }\n  }, \"Create Article\"), /*#__PURE__*/React.createElement(Modal, {\n    \"aria-labelledby\": \"transition-modal-title\",\n    \"aria-describedby\": \"transition-modal-description\",\n    className: classes.modal,\n    open: open,\n    onClose: handleClose,\n    closeAfterTransition: true,\n    BackdropComponent: Backdrop,\n    BackdropProps: {\n      timeout: 500\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Fade, {\n    in: open,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(CardContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h4\",\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 23\n    }\n  }, \"Create Article\"), /*#__PURE__*/React.createElement(Formik, {\n    initialValues: {\n      form_title: \"\",\n      form_desc: \"\",\n      form_cat: \"\",\n      form_share: \"\"\n    },\n    onSubmit: (values, {\n      setSubmitting,\n      resetForm\n    }) => {\n      dispatch(postArticle(token, values)); // When button submits form and form is in the process of submitting, submit button is disabled\n\n      setSubmitting(true); // Resets form after submission is complete\n\n      resetForm(); // Sets setSubmitting to false after form is reset\n\n      setSubmitting(false);\n      dispatch(fetchArticles(token));\n      handleClose();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 23\n    }\n  }, ({\n    isSubmitting\n  }) => /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(Field, {\n    id: \"outlined-full-width\",\n    required: true,\n    component: TextField,\n    type: \"text\",\n    name: \"form_title\",\n    label: \"Title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(Field, {\n    id: \"outlined-full-width\",\n    required: true,\n    multiline: true,\n    component: TextField,\n    type: \"text\",\n    name: \"form_desc\",\n    label: \"Description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(Field, {\n    id: \"outlined-full-width\",\n    required: true,\n    component: TextField,\n    type: \"text\",\n    name: \"form_cat\",\n    label: \"Category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(Field, {\n    id: \"outlined-full-width\",\n    required: true,\n    name: \"form_share\",\n    label: \"Make Article Sharable?\",\n    options: [{\n      value: \"Yes\",\n      label: \"Yes\"\n    }, {\n      value: \"No\",\n      label: \"No\"\n    }],\n    component: Select,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    id: \"outlined-full-width\",\n    type: \"submit\",\n    disabled: isSubmitting,\n    variant: \"contained\",\n    color: \"primary\",\n    align: \"center\",\n    style: {\n      marginTop: 20,\n      marginLeft: \"40%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 29\n    }\n  }, \"Submit\")))))))))), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 1,\n    style: {\n      marginTop: 40\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 11\n    }\n  }, renderArticles()), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: (classes.root, classes.bs),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Sidebar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 15\n    }\n  }))))));\n};\n\nexport default Articles;","map":{"version":3,"sources":["/Users/user/Documents/Andela_Teamwork_Frontend/frontend/src/containers/Articles/index.js"],"names":["React","useEffect","makeStyles","useSelector","useDispatch","articlesSelector","postArticle","fetchArticles","Field","Form","Formik","TextField","Select","Container","Grid","Card","CardContent","Typography","Button","Article","Sidebar","Modal","Backdrop","Fade","CircularProgress","useStyles","theme","media","height","root","width","maxWidth","backgroundColor","bs","boxShadow","modal","display","alignItems","justifyContent","outline","paper","palette","background","border","shadows","padding","spacing","backdrop","zIndex","drawer","color","Articles","props","classes","open","setOpen","useState","openBackdrop","setOpenBackdrop","handleOpen","handleClose","handleBackdropClose","handleBackdropToggle","dispatch","articles","token","location","state","id","renderArticles","map","article","marginTop","timeout","form_title","form_desc","form_cat","form_share","values","setSubmitting","resetForm","isSubmitting","value","label","marginLeft"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  articlesSelector,\n  postArticle,\n  fetchArticles,\n} from \"../../slices/articles\";\nimport { Field, Form, Formik } from \"formik\";\nimport { TextField } from \"material-ui-formik-components/TextField\";\nimport { Select } from \"material-ui-formik-components/Select\";\nimport {\n  Container,\n  Grid,\n  Card,\n  CardContent,\n  Typography,\n  Button,\n} from \"@material-ui/core\";\nimport Article from \"../../components/Article\";\nimport Sidebar from \"../../components/Sidebar\";\nimport Modal from \"@material-ui/core/Modal\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport Fade from \"@material-ui/core/Fade\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nconst useStyles = makeStyles((theme) => ({\n  media: {\n    height: 140,\n  },\n  root: {\n    width: \"100%\",\n    maxWidth: 360,\n    backgroundColor: \"#fff\",\n  },\n  bs: {\n    boxShadow: \"2px 2px 7px 1px #ccc\",\n  },\n  modal: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    outline: 0,\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    border: \"2px solid #000\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: \"#fff\",\n  },\n}));\n\nconst Articles = (props) => {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n  const [openBackdrop, setOpenBackdrop] = React.useState(false);\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleBackdropClose = () => {\n    openBackdrop(false);\n  };\n  const handleBackdropToggle = () => {\n    setOpenBackdrop(!open);\n  };\n\n  const dispatch = useDispatch();\n  const { articles } = useSelector(articlesSelector);\n\n  var token;\n  if (!props.location.state) {\n    token = \"\";\n  } else {\n    token = props.location.state.id;\n  }\n\n  useEffect(() => {\n    dispatch(fetchArticles(token));\n  }, [dispatch]);\n\n  const renderArticles = () => {\n    return articles.map((article) => (\n      <Article key={article.id} article={article} excerpt />\n    ));\n  };\n\n  return (\n    <div>\n      <Button variant=\"outlined\" color=\"primary\" onClick={handleBackdropToggle}>\n        Show backdrop\n      </Button>\n      <Backdrop\n        className={classes.backdrop}\n        open={open}\n        onClick={handleBackdropClose}\n      >\n        <CircularProgress color=\"inherit\" />\n      </Backdrop>\n      <Container maxWidth=\"lg\">\n        <Grid\n          alignItems=\"center\"\n          container\n          spacing={1}\n          style={{ marginTop: 100 }}\n        >\n          <Grid item xs={12} xs={8}>\n            <Typography variant=\"h3\">Articles</Typography>\n          </Grid>\n          <Grid item xs={12} xs={4}>\n            <Button variant=\"contained\" color=\"primary\" onClick={handleOpen}>\n              Create Article\n            </Button>\n            <Modal\n              aria-labelledby=\"transition-modal-title\"\n              aria-describedby=\"transition-modal-description\"\n              className={classes.modal}\n              open={open}\n              onClose={handleClose}\n              closeAfterTransition\n              BackdropComponent={Backdrop}\n              BackdropProps={{\n                timeout: 500,\n              }}\n            >\n              <Fade in={open}>\n                <div className={classes.paper}>\n                  <Card>\n                    <CardContent>\n                      {/* {renderPosts()} */}\n                      <Typography variant=\"h4\" align=\"center\">\n                        Create Article\n                      </Typography>\n                      <Formik\n                        initialValues={{\n                          form_title: \"\",\n                          form_desc: \"\",\n                          form_cat: \"\",\n                          form_share: \"\",\n                        }}\n                        onSubmit={(values, { setSubmitting, resetForm }) => {\n                          dispatch(postArticle(token, values));\n                          // When button submits form and form is in the process of submitting, submit button is disabled\n                          setSubmitting(true);\n\n                          // Resets form after submission is complete\n                          resetForm();\n\n                          // Sets setSubmitting to false after form is reset\n                          setSubmitting(false);\n\n                          dispatch(fetchArticles(token));\n\n                          handleClose();\n                        }}\n                      >\n                        {({ isSubmitting }) => (\n                          <Form>\n                            <Field\n                              id=\"outlined-full-width\"\n                              required\n                              component={TextField}\n                              type=\"text\"\n                              name=\"form_title\"\n                              label=\"Title\"\n                            />\n                            <Field\n                              id=\"outlined-full-width\"\n                              required\n                              multiline\n                              component={TextField}\n                              type=\"text\"\n                              name=\"form_desc\"\n                              label=\"Description\"\n                            />\n                            <Field\n                              id=\"outlined-full-width\"\n                              required\n                              component={TextField}\n                              type=\"text\"\n                              name=\"form_cat\"\n                              label=\"Category\"\n                            />\n                            <Field\n                              id=\"outlined-full-width\"\n                              required\n                              name=\"form_share\"\n                              label=\"Make Article Sharable?\"\n                              options={[\n                                { value: \"Yes\", label: \"Yes\" },\n                                { value: \"No\", label: \"No\" },\n                              ]}\n                              component={Select}\n                            />\n                            <Button\n                              id=\"outlined-full-width\"\n                              type=\"submit\"\n                              disabled={isSubmitting}\n                              variant=\"contained\"\n                              color=\"primary\"\n                              align=\"center\"\n                              style={{ marginTop: 20, marginLeft: \"40%\" }}\n                            >\n                              Submit\n                            </Button>\n                          </Form>\n                        )}\n                      </Formik>\n                    </CardContent>\n                  </Card>\n                </div>\n              </Fade>\n            </Modal>\n          </Grid>\n        </Grid>\n        <Grid container spacing={1} style={{ marginTop: 40 }}>\n          <Grid item xs={12} md={8}>\n            {renderArticles()}\n          </Grid>\n          <Grid item xs={12} md={4}>\n            <div className={(classes.root, classes.bs)}>\n              <Sidebar />\n            </div>\n          </Grid>\n        </Grid>\n      </Container>\n    </div>\n  );\n};\n\nexport default Articles;\n"]},"metadata":{},"sourceType":"module"}