{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nexport const initialState = {\n  loading: false,\n  hasErrors: false,\n  user: []\n}; // A slice of user with our three reducers\n\nconst userSlice = createSlice({\n  name: \"user\",\n  initialState,\n  reducers: {\n    getUser: state => {\n      state.loading = true;\n    },\n    getUserSuccess: (state, {\n      payload\n    }) => {\n      state.user = payload;\n      state.loading = false;\n      state.hasErrors = false;\n    },\n    getUserFailure: state => {\n      state.loading = false;\n      state.hasErrors = true;\n    }\n  }\n}); // Three actiobs generated from the slice\n\nexport const {\n  getUser,\n  getUserSuccess,\n  getUserFailure\n} = userSlice.actions; // A selector\n\nexport const userSelector = state => state.user; // The reducer\n\nexport default userSlice.reducer; // Asynchronous thunk action\n\nexport function fetchPosts() {\n  return async dispatch => {\n    dispatch(getUser());\n\n    try {\n      const response = await fetch(\"http://localhost:5000/api/vi/auth/signin\");\n      const data = await response.json();\n      dispatch(getUserSuccess(data));\n    } catch (error) {\n      dispatch(getUserFailure());\n    }\n  };\n}","map":{"version":3,"sources":["/Users/user/Documents/Andela_Teamwork_Frontend/frontend/src/slices/auth.js"],"names":["createSlice","initialState","loading","hasErrors","user","userSlice","name","reducers","getUser","state","getUserSuccess","payload","getUserFailure","actions","userSelector","reducer","fetchPosts","dispatch","response","fetch","data","json","error"],"mappings":"AAAA,SAASA,WAAT,QAA4B,kBAA5B;AACA,OAAO,MAAMC,YAAY,GAAG;AAC1BC,EAAAA,OAAO,EAAE,KADiB;AAE1BC,EAAAA,SAAS,EAAE,KAFe;AAG1BC,EAAAA,IAAI,EAAE;AAHoB,CAArB,C,CAMP;;AACA,MAAMC,SAAS,GAAGL,WAAW,CAAC;AAC5BM,EAAAA,IAAI,EAAE,MADsB;AAE5BL,EAAAA,YAF4B;AAG5BM,EAAAA,QAAQ,EAAE;AACRC,IAAAA,OAAO,EAAGC,KAAD,IAAW;AAClBA,MAAAA,KAAK,CAACP,OAAN,GAAgB,IAAhB;AACD,KAHO;AAIRQ,IAAAA,cAAc,EAAE,CAACD,KAAD,EAAQ;AAAEE,MAAAA;AAAF,KAAR,KAAwB;AACtCF,MAAAA,KAAK,CAACL,IAAN,GAAaO,OAAb;AACAF,MAAAA,KAAK,CAACP,OAAN,GAAgB,KAAhB;AACAO,MAAAA,KAAK,CAACN,SAAN,GAAkB,KAAlB;AACD,KARO;AASRS,IAAAA,cAAc,EAAGH,KAAD,IAAW;AACzBA,MAAAA,KAAK,CAACP,OAAN,GAAgB,KAAhB;AACAO,MAAAA,KAAK,CAACN,SAAN,GAAkB,IAAlB;AACD;AAZO;AAHkB,CAAD,CAA7B,C,CAmBA;;AACA,OAAO,MAAM;AAAEK,EAAAA,OAAF;AAAWE,EAAAA,cAAX;AAA2BE,EAAAA;AAA3B,IAA8CP,SAAS,CAACQ,OAA9D,C,CAEP;;AACA,OAAO,MAAMC,YAAY,GAAIL,KAAD,IAAWA,KAAK,CAACL,IAAtC,C,CAEP;;AACA,eAAeC,SAAS,CAACU,OAAzB,C,CAEA;;AACA,OAAO,SAASC,UAAT,GAAsB;AAC3B,SAAO,MAAOC,QAAP,IAAoB;AACzBA,IAAAA,QAAQ,CAACT,OAAO,EAAR,CAAR;;AAEA,QAAI;AACF,YAAMU,QAAQ,GAAG,MAAMC,KAAK,CAAC,0CAAD,CAA5B;AACA,YAAMC,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAnB;AACAJ,MAAAA,QAAQ,CAACP,cAAc,CAACU,IAAD,CAAf,CAAR;AACD,KAJD,CAIE,OAAOE,KAAP,EAAc;AACdL,MAAAA,QAAQ,CAACL,cAAc,EAAf,CAAR;AACD;AACF,GAVD;AAWD","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nexport const initialState = {\n  loading: false,\n  hasErrors: false,\n  user: [],\n};\n\n// A slice of user with our three reducers\nconst userSlice = createSlice({\n  name: \"user\",\n  initialState,\n  reducers: {\n    getUser: (state) => {\n      state.loading = true;\n    },\n    getUserSuccess: (state, { payload }) => {\n      state.user = payload;\n      state.loading = false;\n      state.hasErrors = false;\n    },\n    getUserFailure: (state) => {\n      state.loading = false;\n      state.hasErrors = true;\n    },\n  },\n});\n\n// Three actiobs generated from the slice\nexport const { getUser, getUserSuccess, getUserFailure } = userSlice.actions;\n\n// A selector\nexport const userSelector = (state) => state.user;\n\n// The reducer\nexport default userSlice.reducer;\n\n// Asynchronous thunk action\nexport function fetchPosts() {\n  return async (dispatch) => {\n    dispatch(getUser());\n\n    try {\n      const response = await fetch(\"http://localhost:5000/api/vi/auth/signin\");\n      const data = await response.json();\n      dispatch(getUserSuccess(data));\n    } catch (error) {\n      dispatch(getUserFailure());\n    }\n  };\n}\n"]},"metadata":{},"sourceType":"module"}