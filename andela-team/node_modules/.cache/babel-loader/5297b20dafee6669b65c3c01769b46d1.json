{"ast":null,"code":"import _slicedToArray from\"/Users/user/Documents/GitHub/natfinest-react.github.io/andela-team/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{login,userSelector}from\"../../slices/user\";import{TextField}from\"material-ui-formik-components/TextField\";import{Grid,Card,CardContent,Typography,Button}from\"@material-ui/core\";import{Field,Form,Formik}from\"formik\";import MuiAlert from\"@material-ui/lab/Alert\";import IconButton from\"@material-ui/core/IconButton\";import Collapse from\"@material-ui/core/Collapse\";import CloseIcon from\"@material-ui/icons/Close\";import{Redirect}from\"react-router-dom\";import\"./style.css\";function Alert(props){return/*#__PURE__*/React.createElement(MuiAlert,Object.assign({elevation:6,variant:\"filled\"},props));}var Login=function Login(){var _React$useState=React.useState(true),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var dispatch=useDispatch();var _useSelector=useSelector(userSelector),user=_useSelector.user,error=_useSelector.error,loading=_useSelector.loading,hasErrors=_useSelector.hasErrors;var error_message=error.error;var renderPosts=function renderPosts(){if(loading)return/*#__PURE__*/React.createElement(\"p\",null,\"Loading posts...\");if(hasErrors)return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Collapse,{in:open,style:{margin:20}},/*#__PURE__*/React.createElement(Alert,{severity:\"error\",action:/*#__PURE__*/React.createElement(IconButton,{\"aria-label\":\"close\",color:\"inherit\",size:\"small\",onClick:function onClick(){setOpen(false);}},/*#__PURE__*/React.createElement(CloseIcon,{fontSize:\"inherit\"}))},error_message)));if(user)return/*#__PURE__*/React.createElement(Redirect,{to:{pathname:\"/feeds\"}});};return/*#__PURE__*/React.createElement(\"div\",{className:\"login-bg\"},/*#__PURE__*/React.createElement(Grid,{className:\"pc-100\",style:{textAlign:\"center\"},container:true,justify:\"center\",alignItems:\"center\"},/*#__PURE__*/React.createElement(Grid,{item:true,xs:11,sm:8,md:6},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardContent,null,renderPosts(),/*#__PURE__*/React.createElement(Typography,{variant:\"h4\",align:\"center\"},\"Login\"),/*#__PURE__*/React.createElement(Formik,{initialValues:{username:\"\",password:\"\"},onSubmit:function onSubmit(values,_ref){var setSubmitting=_ref.setSubmitting,resetForm=_ref.resetForm;dispatch(login(values));// When button submits form and form is in the process of submitting, submit button is disabled\nsetSubmitting(true);// Resets form after submission is complete\nresetForm();// Sets setSubmitting to false after form is reset\nsetSubmitting(false);}},function(_ref2){var isSubmitting=_ref2.isSubmitting;return/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(Field,{id:\"outlined-full-width\",component:TextField,type:\"text\",name:\"username\",label:\"Email\"}),/*#__PURE__*/React.createElement(Field,{component:TextField,type:\"password\",name:\"password\",label:\"Password\"}),/*#__PURE__*/React.createElement(Button,{type:\"submit\",disabled:isSubmitting,variant:\"contained\",color:\"primary\",align:\"center\",style:{marginTop:20}},\"Submit\"));}))))))//\n;};export default Login;","map":{"version":3,"sources":["/Users/user/Documents/GitHub/natfinest-react.github.io/andela-team/src/containers/Login/index.js"],"names":["React","useDispatch","useSelector","login","userSelector","TextField","Grid","Card","CardContent","Typography","Button","Field","Form","Formik","MuiAlert","IconButton","Collapse","CloseIcon","Redirect","Alert","props","Login","useState","open","setOpen","dispatch","user","error","loading","hasErrors","error_message","renderPosts","margin","pathname","textAlign","username","password","values","setSubmitting","resetForm","isSubmitting","marginTop"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { login, userSelector } from \"../../slices/user\";\nimport { TextField } from \"material-ui-formik-components/TextField\";\nimport { Grid, Card, CardContent, Typography, Button } from \"@material-ui/core\";\nimport { Field, Form, Formik } from \"formik\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { Redirect } from \"react-router-dom\";\nimport \"./style.css\";\nfunction Alert(props) {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nconst Login = () => {\n  const [open, setOpen] = React.useState(true);\n\n  const dispatch = useDispatch();\n  const { user, error, loading, hasErrors } = useSelector(userSelector);\n  const error_message = error.error;\n\n  const renderPosts = () => {\n    if (loading) return <p>Loading posts...</p>;\n    if (hasErrors)\n      return (\n        <>\n          <Collapse in={open} style={{ margin: 20 }}>\n            <Alert\n              severity=\"error\"\n              action={\n                <IconButton\n                  aria-label=\"close\"\n                  color=\"inherit\"\n                  size=\"small\"\n                  onClick={() => {\n                    setOpen(false);\n                  }}\n                >\n                  <CloseIcon fontSize=\"inherit\" />\n                </IconButton>\n              }\n            >\n              {error_message}\n            </Alert>\n          </Collapse>\n        </>\n      );\n    if (user)\n      return (\n        <Redirect\n          to={{\n            pathname: \"/feeds\",\n          }}\n        />\n      );\n  };\n\n  return (\n    <div className=\"login-bg\">\n      <Grid\n        className=\"pc-100\"\n        style={{ textAlign: \"center\" }}\n        container\n        justify=\"center\"\n        alignItems=\"center\"\n      >\n        <Grid item xs={11} sm={8} md={6}>\n          <Card>\n            <CardContent>\n              {renderPosts()}\n              <Typography variant=\"h4\" align=\"center\">\n                Login\n              </Typography>\n              <Formik\n                initialValues={{ username: \"\", password: \"\" }}\n                onSubmit={(values, { setSubmitting, resetForm }) => {\n                  dispatch(login(values));\n                  // When button submits form and form is in the process of submitting, submit button is disabled\n                  setSubmitting(true);\n\n                  // Resets form after submission is complete\n                  resetForm();\n\n                  // Sets setSubmitting to false after form is reset\n                  setSubmitting(false);\n                }}\n              >\n                {({ isSubmitting }) => (\n                  <Form>\n                    <Field\n                      id=\"outlined-full-width\"\n                      component={TextField}\n                      type=\"text\"\n                      name=\"username\"\n                      label=\"Email\"\n                    />\n                    <Field\n                      component={TextField}\n                      type=\"password\"\n                      name=\"password\"\n                      label=\"Password\"\n                    />\n                    <Button\n                      type=\"submit\"\n                      disabled={isSubmitting}\n                      variant=\"contained\"\n                      color=\"primary\"\n                      align=\"center\"\n                      style={{ marginTop: 20 }}\n                    >\n                      Submit\n                    </Button>\n                  </Form>\n                )}\n              </Formik>\n            </CardContent>\n          </Card>\n        </Grid>\n      </Grid>\n    </div>\n\n    //\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}