(this["webpackJsonpandela-team"]=this["webpackJsonpandela-team"]||[]).push([[0],{156:function(e,t,a){e.exports=a(202)},161:function(e,t,a){},187:function(e,t,a){},190:function(e,t,a){e.exports=a.p+"static/media/home-banner.70c587da.jpg"},191:function(e,t,a){},195:function(e,t,a){},199:function(e,t,a){},200:function(e,t,a){},201:function(e,t,a){},202:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(11),o=a.n(l),c=(a(161),a(17)),i=a(16),s=a(13),m=a(15),u=a(12),d=a.n(u),p=a(31),f=a(39),E="https://andela-teamwork-backend.herokuapp.com",g=a(93),b=a.n(g),h=a(119),v=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).user.token:null;v&&h(v).exp<Date.now()/1e3&&localStorage.removeItem("user");var x={user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null,error:"",loading:"",hasErrors:""},y=Object(f.b)({name:"user",initialState:x,reducers:{loginSuccess:function(e,t){e.hasErrors=!1,e.user=t.payload,localStorage.setItem("user",JSON.stringify(t.payload))},loginFailure:function(e,t){e.error=t.payload,e.hasErrors=!0},registerSuccess:function(e,t){e.hasErrors=!1,e.user=t.payload,localStorage.setItem("user",JSON.stringify(t.payload))},registerFailure:function(e,t){e.error=t.payload,e.hasErrors=!0},logoutSuccess:function(e){e.hasErrors=!1,e.user=null,localStorage.removeItem("user")}}}),S=y.actions,k=S.loginSuccess,O=S.loginFailure,j=S.registerSuccess,w=S.registerFailure,F=S.logoutSuccess,C=function(e){return e.user},A=y.reducer,N=function(){return function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",t(F()));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",console.error(e.t0.message));case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t){return e.apply(this,arguments)}}()},_=a(24),T=a(248),I=a(249),L=a(250),B=a(42),J=a(251),z=a(8),P=a(274),D=a(246),q=a(247),R=a(79),W=a.n(R);a(187);function M(e){return r.a.createElement(P.a,Object.assign({elevation:6,variant:"filled"},e))}var H=function(){var e=r.a.useState(!0),t=Object(s.a)(e,2),a=t[0],n=t[1],l=Object(m.b)(),o=Object(m.c)(C),c=o.user,u=o.error,f=o.loading,g=o.hasErrors,h=u.error;return r.a.createElement("div",{className:"login-bg"},r.a.createElement(T.a,{className:"pc-100",style:{textAlign:"center"},container:!0,justify:"center",alignItems:"center"},r.a.createElement(T.a,{item:!0,xs:11,sm:8,md:6},r.a.createElement(I.a,null,r.a.createElement(L.a,null,f?r.a.createElement("p",null,"Loading posts..."):g?r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{in:a,style:{margin:20}},r.a.createElement(M,{severity:"error",action:r.a.createElement(D.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){n(!1)}},r.a.createElement(W.a,{fontSize:"inherit"}))},h))):c?r.a.createElement(i.a,{to:{pathname:"/feeds"}}):void 0,r.a.createElement(B.a,{variant:"h4",align:"center"},"Login"),r.a.createElement(z.Formik,{initialValues:{username:"",password:""},onSubmit:function(e,t){var a=t.setSubmitting,n=t.resetForm;l(function(e){var t=e.username,a=e.password;return function(){var e=Object(p.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.a.post("".concat(E,"/api/v1/auth/signin"),{email:t,password:a}).then((function(e){var t=e.data.data,a=t.firstname,r=t.email,l=t.id,o=t.token;n(k({user:{firstname:a,email:r,id:l,token:o}}))})).catch((function(e){e=e.response.data.error,n(O({error:e}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(e)),a(!0),n(),a(!1)}},(function(e){var t=e.isSubmitting;return r.a.createElement(z.Form,null,r.a.createElement(z.Field,{id:"outlined-full-width",component:_.TextField,type:"text",name:"username",label:"Email"}),r.a.createElement(z.Field,{component:_.TextField,type:"password",name:"password",label:"Password"}),r.a.createElement(J.a,{type:"submit",disabled:t,variant:"contained",color:"primary",align:"center",style:{marginTop:20}},"Submit"))})))))))},U=a(36),V=a(258),Y=a(257),G=a(256),$=a(260),K=a(275),Q=a(245),X=a(253),Z=a(254),ee=a(255),te=a(129),ae=a.n(te),ne=a(259),re=a(252),le=a(18),oe=a(128),ce=a.n(oe),ie=a(97),se=a.n(ie),me=a(127),ue=a.n(me),de=a(126),pe=a.n(de),fe=a(125),Ee=a.n(fe),ge=a(273),be=Object(re.a)((function(e){return{root:{display:"flex",marginBottom:60},drawer:Object(U.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),appBar:Object(U.a)({},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)"),marginLeft:240}),menuButton:Object(U.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:240},content:{flexGrow:1,padding:e.spacing(3)}}}));var he=function(e){var t=e.window,a=be(),n=Object(le.a)(),l=r.a.useState(!1),o=Object(s.a)(l,2),i=o[0],u=o[1],d=function(){u(!i)},p=Object(m.b)(),f=Object(m.c)(C).user,E=r.a.createElement("div",null,r.a.createElement("div",{className:a.toolbar}),r.a.createElement(G.a,null),r.a.createElement(Q.a,null,r.a.createElement(c.b,{to:"/",onClick:d},r.a.createElement(X.a,{button:!0},r.a.createElement(Z.a,null,r.a.createElement(ce.a,null)),r.a.createElement(ee.a,{primary:"Home"}))),r.a.createElement(c.b,{to:"/feeds",onClick:d},r.a.createElement(X.a,{button:!0},r.a.createElement(Z.a,null,r.a.createElement(se.a,null)),r.a.createElement(ee.a,{primary:"Feeds"}))),r.a.createElement(c.b,{to:"/articles",onClick:d},r.a.createElement(X.a,{button:!0},r.a.createElement(Z.a,null,r.a.createElement(se.a,null)),r.a.createElement(ee.a,{primary:"Articles"})))),r.a.createElement(G.a,null),r.a.createElement(Q.a,null,f?r.a.createElement(r.a.Fragment,null,r.a.createElement(X.a,{button:!0,onClick:function(){p(N()),d()}},r.a.createElement(Z.a,null,r.a.createElement(Ee.a,null)),r.a.createElement(ee.a,{primary:"Logout"}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(c.b,{to:"/login",onClick:d},r.a.createElement(X.a,{button:!0},r.a.createElement(Z.a,null,r.a.createElement(pe.a,null)),r.a.createElement(ee.a,{primary:"Login"}))),r.a.createElement(c.b,{to:"/register",onClick:d},r.a.createElement(X.a,{button:!0},r.a.createElement(Z.a,null,r.a.createElement(ue.a,null)),r.a.createElement(ee.a,{primary:"Register"})))))),g=void 0!==t?function(){return t().document.body}:void 0;return r.a.createElement("div",{className:a.root},r.a.createElement(Y.a,null),r.a.createElement(V.a,{position:"fixed"},r.a.createElement(ne.a,null,r.a.createElement(ge.a,{display:{sm:"block",md:"none"}},r.a.createElement(D.a,{color:"inherit","aria-label":"open drawer",onClick:d,edge:"start",className:a.menuButton},r.a.createElement(ae.a,null))),r.a.createElement(B.a,{variant:"h6",className:a.title,style:{flexGrow:1}},r.a.createElement(c.b,{to:"/"},"Andela Teamwork")),r.a.createElement(ge.a,{display:{xs:"none",sm:"block"}},f?r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{color:"inherit"},r.a.createElement(c.b,{to:"/feeds"},"Feeds")),r.a.createElement(J.a,{color:"inherit"},r.a.createElement(c.b,{to:"/articles"},"Articles")),r.a.createElement(J.a,{color:"inherit",onClick:function(){p(N())}},"Logout")):r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{color:"inherit"},r.a.createElement(c.b,{to:"/login"},"Login")),r.a.createElement(J.a,{color:"inherit"},r.a.createElement(c.b,{to:"/register"},"Register")))))),r.a.createElement("nav",{className:a.drawer,"aria-label":"mailbox folders"},r.a.createElement(K.a,{xsUp:!0,implementation:"css"},r.a.createElement($.a,{container:g,variant:"temporary",anchor:"rtl"===n.direction?"right":"left",open:i,onClose:d,classes:{paper:a.drawerPaper},ModalProps:{keepMounted:!0}},E),r.a.createElement(K.a,{mdDown:!0,implementation:"css"},r.a.createElement($.a,{classes:{paper:a.drawerPaper},variant:"permanent",open:!0},E)))))},ve=a(261),xe=a(262);function ye(){var e=a(190);return r.a.createElement("div",null,r.a.createElement(I.a,null,r.a.createElement(ve.a,null,r.a.createElement(xe.a,{component:"img",alt:"Contemplative Reptile",height:"400",image:e}),r.a.createElement(L.a,null,r.a.createElement(B.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Welcome to Andela Teamwork"),r.a.createElement(B.a,{variant:"body2",color:"textSecondary",component:"p"},"Teamwork is an internal social network for employees of an organization. The goal of this application is to facilitate more interaction between colleagues and promote team bonding.")))))}var Se={user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null,loading:!1,feeds:[]},ke=Object(f.b)({name:"feeds",initialState:Se,reducers:{getFeeds:function(e){e.loading=!0},getFeedSuccess:function(e,t){e.feeds=t.payload,e.loading=!1},getFeedsFailure:function(e,t){e.error=t.payload,e.loading=!1}}}),Oe=ke.actions,je=Oe.getFeeds,we=Oe.getFeedSuccess,Fe=Oe.getFeedsFailure,Ce=function(e){return e.feeds},Ae=ke.reducer;var Ne=a(266),_e=a(263),Te=a(264),Ie=(a(191),a(58)),Le=a.n(Ie);function Be(e){var t=e.feed;return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{style:{marginBottom:20,padding:"0px 15px"}},r.a.createElement(_e.a,{title:t.title,subheader:r.a.createElement(r.a.Fragment,null,r.a.createElement(Le.a,{format:"LLL"},t.time))}),r.a.createElement(L.a,null,r.a.createElement(B.a,{variant:"body2",color:"textSecondary",component:"p"},t.description)),r.a.createElement(Te.a,null,r.a.createElement(c.b,{to:{pathname:"/articles/".concat(t.id)}},r.a.createElement(J.a,{size:"small",color:"primary"},"Read More")))))}var Je=a(139),ze=a(265),Pe=Object(re.a)((function(e){return{media:{height:140},root:{width:"100%",maxWidth:360,backgroundColor:"#fff"},bs:{boxShadow:"2px 2px 7px 1px #ccc"}}})),De=function(){var e=Pe(),t=Object(m.b)(),a=Object(m.c)(Ce),l=a.feeds,o=a.loading,c=r.a.useState(!1),i=Object(s.a)(c,2),u=(i[0],i[1]);Object(n.useEffect)((function(){t(function(){var e=Object(p.a)(d.a.mark((function e(t){var a,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(je()),e.prev=1,a=JSON.parse(localStorage.getItem("user")).user.token,e.next=5,fetch("".concat(E,"/api/v1/feed"),{headers:{authorization:"Bearer "+a}});case 5:return n=e.sent,e.next=8,n.json();case 8:r=e.sent,t(we(r.data)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),t(Fe());case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}())}),[t]);var f=function(){u(!1)};return r.a.createElement("div",null,r.a.createElement(Ne.a,{maxWidth:"md"},r.a.createElement(T.a,{container:!0,spacing:1,style:{margin:"100px 50px 30px 0px"},justify:"center"},r.a.createElement(T.a,{item:!0,xs:12,md:9},r.a.createElement(B.a,{variant:"h4"},"Feeds"))),r.a.createElement(T.a,{container:!0,spacing:1,justify:"center"},r.a.createElement(T.a,{item:!0,xs:12,md:9},o?r.a.createElement(Je.a,{className:e.backdrop,open:!0,onClick:f},r.a.createElement(ze.a,{color:"inherit"})):l.length>0?l.map((function(e){return r.a.createElement(Be,{key:e.id,feed:e,excerpt:!0})})):r.a.createElement(B.a,{variant:"h5"},"Nothing to show here")))))},qe={user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null,loading:!1,hasErrors:!1,articles:[]},Re=Object(f.b)({name:"articles",initialState:qe,reducers:{getArticles:function(e){e.loading=!0},getArticlesSuccess:function(e,t){e.articles=t.payload.message,e.loading=!1},getArticlesFailure:function(e,t){e.error=t.payload,e.loading=!1},postArticleSuccess:function(e,t){},postArticleFailure:function(e,t){e.error=t.payload}}}),We=Re.actions,Me=We.getArticles,He=We.getArticlesSuccess,Ue=We.getArticlesFailure,Ve=We.postArticleFailure,Ye=We.postArticleSuccess,Ge=function(e){return e.articles},$e=Re.reducer;function Ke(){var e=JSON.parse(localStorage.getItem("user")).user.token;return function(){var t=Object(p.a)(d.a.mark((function t(a){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(Me()),t.prev=1,t.next=4,fetch("".concat(E,"/api/v1/articles"),{headers:{authorization:"Bearer "+e}});case 4:return n=t.sent,t.next=7,n.json();case 7:r=t.sent,a(He(r.data)),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),console.log(t.t0),a(Ue());case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()}var Qe=a(62),Xe=a(82),Ze=(a(195),a(80)),et=a.n(Ze),tt=Object(re.a)((function(e){return{media:{height:170,backgroundSize:"cover"},root:{width:"100%",maxWidth:360,backgroundColor:"#fff"},bs:{boxShadow:"2px 2px 7px 1px #ccc"},media2:{height:0,paddingTop:"56.25%"},list:{maxHeight:300,overflow:"scroll"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:Xe.a[500]},inline:{fontSize:16}}}));function at(e){var t=e.article,a=tt(),n=r.a.useState(!1),l=Object(s.a)(n,2);l[0],l[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{item:!0,xs:12,sm:4,md:3},r.a.createElement(c.b,{to:{pathname:"/articles/".concat(t.id)}},r.a.createElement(I.a,{style:{marginBottom:20}},r.a.createElement(ve.a,null,r.a.createElement(xe.a,{className:a.media,image:et.a,title:"Contemplative Reptile"}),r.a.createElement(L.a,null,r.a.createElement(B.a,{gutterBottom:!0,variant:"h5",component:"h2"},t.title),r.a.createElement(B.a,{variant:"body2",color:"textSecondary",component:"p"},t.description))),r.a.createElement(Te.a,null,r.a.createElement(B.a,{variant:"body2",color:"textSecondary",component:"p"},"Posted On:",r.a.createElement(Le.a,{format:"LLL"},t.createdat)))))))}var nt=a(141),rt=a(140),lt=a(130),ot=a.n(lt),ct=(a(199),a(276)),it=Object(re.a)((function(e){return{media:{height:140},root:{width:"100%",maxWidth:360,backgroundColor:"#fff"},bs:{boxShadow:"2px 2px 7px 1px #ccc"},modal:{display:"flex",alignItems:"center",justifyContent:"center",outline:0},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),st=function(){var e,t=it(),a=Object(m.b)(),l=Object(m.c)(Ge),o=l.articles,c=l.loading,i=r.a.useState(!1),u=Object(s.a)(i,2),f=u[0],g=u[1],b=r.a.useState(0),h=Object(s.a)(b,2),v=h[0],x=h[1],y=r.a.useState(!1),S=Object(s.a)(y,2),k=S[0],O=S[1],j=r.a.useState(""),w=Object(s.a)(j,2),F=w[0],C=w[1],A=r.a.useState(""),N=Object(s.a)(A,2),D=N[0],q=N[1];Object(n.useEffect)((function(){a(Ke())}),[a]);var R=function(){g(!1)};function W(e){return r.a.createElement(P.a,Object.assign({elevation:6,variant:"filled"},e))}var M=function(){O(!1)},H=Math.ceil(o.length/8);return r.a.createElement("div",null,r.a.createElement(ct.a,{open:k,autoHideDuration:6e3,onClose:M},r.a.createElement(W,{onClose:M,severity:D},F)),r.a.createElement(Ne.a,{maxWidth:"lg"},r.a.createElement(T.a,{alignItems:"center",container:!0,spacing:1,style:{marginTop:100}},r.a.createElement(T.a,Object(U.a)({item:!0,xs:12},"xs",8),r.a.createElement(B.a,{variant:"h3"},"Articles")),r.a.createElement(T.a,(e={item:!0,xs:12},Object(U.a)(e,"xs",4),Object(U.a)(e,"style",{textAlign:"right"}),e),r.a.createElement(J.a,{variant:"contained",color:"primary",onClick:function(){g(!0)}},"Create Article"),r.a.createElement(nt.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:f,onClose:R,closeAfterTransition:!0,BackdropComponent:Je.a,BackdropProps:{timeout:500}},r.a.createElement(rt.a,{in:f},r.a.createElement("div",{className:t.paper},r.a.createElement(I.a,null,r.a.createElement(L.a,null,r.a.createElement(B.a,{variant:"h4",align:"center"},"Create Article"),r.a.createElement(z.Formik,{initialValues:{form_title:"",form_desc:"",form_cat:"",form_share:""},onSubmit:function(e,t){var n=t.setSubmitting,r=t.resetForm;a(function(e){var t=e.form_title,a=e.form_desc,n=e.form_cat,r=e.form_share,l=JSON.parse(localStorage.getItem("user")).user.token,o={title:t,description:a,category:n,share:r};return function(){var e=Object(p.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(E,"/api/v1/articles"),{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json",authorization:"Bearer "+l},body:JSON.stringify(o)});case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,t(Ye(n.data.message)),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(JSON.stringify(o)),console.log(e.t0),t(Ve());case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()}(e)),n(!0),r(),n(!1),R(),function(e,t){C(e),q(t),O(!0)}("Article Created Successfully","success"),a(Ke())}},(function(e){var t=e.isSubmitting;return r.a.createElement(z.Form,null,r.a.createElement(z.Field,{id:"outlined-full-width",required:!0,component:_.TextField,type:"text",name:"form_title",label:"Title"}),r.a.createElement(z.Field,{id:"outlined-full-width",required:!0,multiline:!0,component:_.TextField,type:"text",name:"form_desc",label:"Description"}),r.a.createElement(z.Field,{id:"outlined-full-width",required:!0,name:"form_cat",label:"Category",options:[{value:"Sport",label:"Sport"},{value:"Technology",label:"Technology"},{value:"Lifestyle",label:"Lifestyle"},{value:"Trending",label:"Trending"},{value:"Entertainment",label:"Entertainment"},{value:"Education",label:"Education"}],component:Qe.Select}),r.a.createElement(z.Field,{id:"outlined-full-width",required:!0,name:"form_share",label:"Make Article Sharable?",options:[{value:"Yes",label:"Yes"},{value:"No",label:"No"}],component:Qe.Select}),r.a.createElement(J.a,{id:"outlined-full-width",type:"submit",disabled:t,variant:"contained",color:"primary",align:"center",style:{marginTop:20,marginLeft:"40%"}},"Submit"))}))))))))),r.a.createElement(T.a,{container:!0,spacing:0,style:{marginTop:40}},c?r.a.createElement(Je.a,{className:t.backdrop,open:!0,onClick:R},r.a.createElement(ze.a,{color:"inherit"})):o.length>0?o.slice(v,v+8).map((function(e){return r.a.createElement(at,{key:e.id,article:e,excerpt:!0})})):r.a.createElement(B.a,{variant:"h5"},"Nothing to show here")),r.a.createElement(ot.a,{previousLabel:"Prev",nextLabel:"Next",breakLabel:"...",breakClassName:"break-me",marginPagesDisplayed:2,pageRangeDisplayed:5,pageCount:H,onPageChange:function(e){var t=e.selected;x(8*t)},containerClassName:"pagination",subContainerClassName:"pages pagination",activeClassName:"active"})))},mt=a(277),ut=a(133),dt=a.n(ut),pt=a(134),ft=a.n(pt),Et=a(135),gt=a.n(Et),bt=a(132),ht=a.n(bt),vt=a(267),xt=a(81),yt=a.n(xt),St=Object(re.a)((function(){return{list:{maxHeight:300,overflow:"scroll"}}}));function kt(e){var t=e.comment,a=St();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,{className:a.list},r.a.createElement(G.a,{component:"li"}),r.a.createElement(X.a,{alignItems:"flex-start"},r.a.createElement(vt.a,null,r.a.createElement(mt.a,{alt:"Avatar",src:yt.a})),r.a.createElement(ee.a,{primary:r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{component:"span",variant:"body2",className:a.inline,color:"textPrimary"},"Anonymous")),secondary:t.comment}))))}var Ot=a(3),jt=a(131),wt=a.n(jt),Ft={user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null,loading:!1,hasErrors:!1,article:{}},Ct=Object(f.b)({name:"article",initialState:Ft,reducers:{getArticle:function(e){e.loading=!0},getArticleSuccess:function(e,t){e.article=t.payload,e.loading=!1},getArticleFailure:function(e,t){e.error=t.payload,e.loading=!1},postCommentSuccess:function(e,t){e.article=t.payload,e.loading=!1},postCommentFailure:function(e,t){e.error=t.payload,e.loading=!1},editArticleSuccess:function(e,t){e.article=t.payload,e.loading=!1},editArticleFailure:function(e,t){e.error=t.payload,e.loading=!1},deleteArticleSuccess:function(e,t){e.article=t.payload,e.loading=!1},deleteArticleFailure:function(e,t){e.error=t.payload,e.loading=!1}}}),At=Ct.actions,Nt=At.getArticle,_t=At.getArticleSuccess,Tt=At.getArticleFailure,It=At.editArticleSuccess,Lt=At.editArticleFailure,Bt=At.deleteArticleSuccess,Jt=At.deleteArticleFailure,zt=At.postCommentSuccess,Pt=At.postCommentFailure,Dt=function(e){return e.article},qt=Ct.reducer;function Rt(e){var t=JSON.parse(localStorage.getItem("user")).user.token;return function(){var a=Object(p.a)(d.a.mark((function a(n){var r,l;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(Nt()),a.prev=1,a.next=4,fetch("".concat(E,"/api/v1/articles/").concat(e),{headers:{authorization:"Bearer "+t}});case 4:return r=a.sent,a.next=7,r.json();case 7:l=a.sent,n(_t(l.data)),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(1),console.log(a.t0),n(Tt());case 15:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e){return a.apply(this,arguments)}}()}var Wt=a(136),Mt=a.n(Wt),Ht=a(137),Ut=a.n(Ht),Vt=a(268),Yt=a(272),Gt=a(270),$t=a(271),Kt=a(269),Qt=a(205),Xt=(a(200),Object(re.a)((function(e){return{media:{height:250},modal:{display:"flex",alignItems:"center",justifyContent:"center",outline:0},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},root:{width:"100%",maxWidth:360,backgroundColor:"#fff"},bs:{boxShadow:"2px 2px 7px 1px #ccc"},media2:{height:0,paddingTop:"56.25%"},list:{maxHeight:300,overflow:"scroll"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:Xe.a[500]},inline:{fontSize:16}}}))),Zt=r.a.forwardRef((function(e,t){return r.a.createElement(Qt.a,Object.assign({direction:"up",ref:t},e))})),ea=function(e){var t,a=e.match,l=Xt(),o=Object(i.g)(),c=Object(m.b)(),u=Object(m.c)(Dt),f=u.article,g=u.loading,b=a.params.id;Object(n.useEffect)((function(){c(Rt(b))}),[]);var h=r.a.useState(!1),v=Object(s.a)(h,2),x=v[0],y=v[1],S=r.a.useState(!1),k=Object(s.a)(S,2),O=k[0],j=k[1],w=r.a.useState(!1),F=Object(s.a)(w,2),C=F[0],A=F[1],N=r.a.useState(!1),R=Object(s.a)(N,2),W=R[0],M=R[1],H=r.a.useState(""),V=Object(s.a)(H,2),Y=V[0],$=V[1],K=r.a.useState(""),te=Object(s.a)(K,2),ae=te[0],ne=te[1],re=function(){j(!1)},le=function(){A(!1)};function oe(e){return r.a.createElement(P.a,Object.assign({elevation:6,variant:"filled"},e))}var ce=function(e,t){$(e),ne(t),M(!0)},ie=function(){M(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(ct.a,{open:W,autoHideDuration:6e3,onClose:ie},r.a.createElement(oe,{onClose:ie,severity:ae},Y)),r.a.createElement(nt.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:l.modal,open:O,onClose:re,closeAfterTransition:!0,BackdropComponent:Je.a,BackdropProps:{timeout:500}},r.a.createElement(rt.a,{in:O},r.a.createElement("div",{className:l.paper},r.a.createElement(I.a,null,r.a.createElement(L.a,null,r.a.createElement(B.a,{variant:"h4",align:"center"},"Edit Article"),r.a.createElement(z.Formik,{initialValues:{form_title:f.title,form_desc:f.article},onSubmit:function(e,t){var a=t.setSubmitting,n=t.resetForm;c(function(e,t){var a=t.form_title,n=t.form_desc,r=JSON.parse(localStorage.getItem("user")).user.token,l={title:a,description:n};return function(){var t=Object(p.a)(d.a.mark((function t(a){var n,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(E,"/api/v1/articles/").concat(e),{method:"PUT",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json",authorization:"Bearer "+r},body:JSON.stringify(l)});case 3:return n=t.sent,t.next=6,n.json();case 6:o=t.sent,a(It(o.data.message)),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(JSON.stringify(l)),console.log(t.t0),a(Lt());case 15:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(f.id,e)),a(!0),n(),a(!1),re(),c(Rt(f.id)),ce("Article Updated Successfully","success")}},(function(e){var t=e.isSubmitting;return r.a.createElement(z.Form,null,r.a.createElement(z.Field,{id:"outlined-full-width",component:_.TextField,type:"text",name:"form_title",label:"Title"}),r.a.createElement(z.Field,{id:"outlined-full-width",multiline:!0,component:_.TextField,type:"text",name:"form_desc",label:"Description"}),r.a.createElement(J.a,{id:"outlined-full-width",type:"submit",disabled:t,variant:"contained",color:"primary",align:"center",style:{marginTop:20,marginLeft:"40%"}},"Submit"))}))))))),r.a.createElement(Vt.a,{open:C,TransitionComponent:Zt,keepMounted:!0,onClose:le,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement(Kt.a,{id:"alert-dialog-slide-title"},"Delete Article"),r.a.createElement(Gt.a,null,r.a.createElement($t.a,{id:"alert-dialog-slide-description"},"Are you sure you want to delete this article? This process is irreversible!")),r.a.createElement(Yt.a,null,r.a.createElement(J.a,{onClick:function(){console.log(f.id),c(function(e){var t=JSON.parse(localStorage.getItem("user")).user.token;return function(){var a=Object(p.a)(d.a.mark((function a(n){var r,l;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(Nt()),a.prev=1,a.next=4,fetch("".concat(E,"/api/v1/articles/").concat(e),{method:"DELETE",headers:{authorization:"Bearer "+t}});case 4:return r=a.sent,a.next=7,r.json();case 7:l=a.sent,n(Bt(l.data)),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(1),console.log(a.t0),n(Jt());case 15:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e){return a.apply(this,arguments)}}()}(f.id)),le(),ce("Article Deleted Successfully","error"),o.goBack()},color:"primary"},"Yes, I'm Sure"),r.a.createElement(J.a,{onClick:le,color:"secondary"},"No, Don't Delete"))),r.a.createElement(Ne.a,{maxWidth:"md"},r.a.createElement(T.a,{container:!0,spacing:1,style:{marginTop:100}},r.a.createElement(T.a,(t={item:!0,xs:12},Object(U.a)(t,"xs",4),Object(U.a)(t,"style",{textAlign:"right"}),t)),r.a.createElement(T.a,{item:!0,xs:12,md:9,style:{marginBottom:20}},r.a.createElement(J.a,{variant:"contained",color:"primary",className:l.button,startIcon:r.a.createElement(wt.a,null),onClick:o.goBack},"Back")),r.a.createElement(T.a,{item:!0,xs:12,md:9},r.a.createElement(I.a,{style:{marginBottom:20,padding:"0px 15px"}},r.a.createElement(_e.a,{action:r.a.createElement(D.a,{"aria-label":"settings"},r.a.createElement(ht.a,null)),title:f.title,subheader:r.a.createElement(r.a.Fragment,null,r.a.createElement(Le.a,{format:"LLL"},f.createdOn))}),r.a.createElement(xe.a,{className:l.media,image:et.a}),r.a.createElement(L.a,null,r.a.createElement(B.a,{variant:"body2",color:"textSecondary",component:"p"},f.article)),r.a.createElement(Te.a,{disableSpacing:!0},r.a.createElement(D.a,{"aria-label":"add to favorites"},r.a.createElement(dt.a,null)),r.a.createElement(D.a,{"aria-label":"share"},r.a.createElement(ft.a,null)),r.a.createElement(D.a,{className:Object(Ot.a)(l.expand,Object(U.a)({},l.expandOpen,x)),onClick:function(){y(!x)},"aria-expanded":x,"aria-label":"show more"},r.a.createElement(gt.a,null))),r.a.createElement(q.a,{in:x,timeout:"auto",unmountOnExit:!0},r.a.createElement(G.a,null),r.a.createElement(z.Formik,{initialValues:{form_comment:""},onSubmit:function(e,t){var a=t.setSubmitting,n=t.resetForm;c(function(e,t){var a=e.form_comment,n=JSON.parse(localStorage.getItem("user")).user.token,r={description:a};return function(){var e=Object(p.a)(d.a.mark((function e(a){var l,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(E,"/api/v1/articles/").concat(t,"/Comment"),{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json",authorization:"Bearer "+n},body:JSON.stringify(r)});case 3:return l=e.sent,e.next=6,l.json();case 6:o=e.sent,console.log(o),a(zt(o.data.message)),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(JSON.stringify(r)),console.log(e.t0),a(Pt());case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()}(e,f.id)),a(!0),n(),a(!1),c(Rt(b)),ce("Comment Added Successfully","success")}},(function(e){var t=e.isSubmitting;return r.a.createElement(z.Form,null,r.a.createElement("div",{className:"comment"},r.a.createElement(T.a,{item:!0},r.a.createElement(mt.a,{alt:"Avatar",src:yt.a})),r.a.createElement(T.a,{item:!0,xs:8},r.a.createElement(z.Field,{id:"outlined-full-width",component:_.TextField,type:"text",name:"form_comment",label:"Your Comment"})),r.a.createElement(T.a,{item:!0},r.a.createElement(J.a,{type:"submit",disabled:t,variant:"contained",color:"primary",style:{borderRadius:50}},"Send"))))})),r.a.createElement(L.a,{style:{maxHeight:300,overflow:"scroll"}},g?r.a.createElement(Je.a,{className:l.backdrop,open:!0,onClick:re},r.a.createElement(ze.a,{color:"inherit"})):f.comments?f.comments.map((function(e){return r.a.createElement(kt,{key:e.commentId,comment:e,excerpt:!0})})):void 0)))),r.a.createElement(T.a,{item:!0,xs:12,md:3},r.a.createElement("div",{className:(l.root,l.bs)},r.a.createElement(Q.a,{component:"nav","aria-label":"main mailbox folders"},r.a.createElement(X.a,{button:!0,onClick:function(){j(!0)}},r.a.createElement(Z.a,null,r.a.createElement(Mt.a,null)),r.a.createElement(ee.a,{primary:"Edit"})),r.a.createElement(X.a,{button:!0,onClick:function(){A(!0)}},r.a.createElement(Z.a,null,r.a.createElement(Ut.a,null)),r.a.createElement(ee.a,{primary:"Delete"}))))))))};a(201);function ta(e){return r.a.createElement(P.a,Object.assign({elevation:6,variant:"filled"},e))}var aa=function(){var e=r.a.useState(!0),t=Object(s.a)(e,2),a=t[0],n=t[1],l=Object(m.b)(),o=Object(m.c)(C),c=o.user,u=o.error,f=o.loading,g=o.hasErrors,h=u.error;return r.a.createElement("div",{className:"register-bg"},r.a.createElement(T.a,{style:{textAlign:"center"},container:!0,justify:"center"},r.a.createElement(T.a,{item:!0,xs:11,sm:8,md:6},r.a.createElement(I.a,null,r.a.createElement(L.a,null,f?r.a.createElement("p",null,"Loading posts..."):g?r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{in:a,style:{margin:20}},r.a.createElement(ta,{severity:"error",action:r.a.createElement(D.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){n(!1)}},r.a.createElement(W.a,{fontSize:"inherit"}))},h))):c?r.a.createElement(i.a,{to:"/feeds"}):void 0,r.a.createElement(B.a,{variant:"h4",align:"center"},"Register"),r.a.createElement(z.Formik,{initialValues:{form_firstname:"",form_lastname:"",form_email:"",form_password:"",form_gender:"",form_jobrole:"",form_department:"",form_address:"",form_avatarurl:"",form_userrole:""},onSubmit:function(e,t){var a=t.setSubmitting,n=t.resetForm;l(function(e){var t=e.form_firstname,a=e.form_lastname,n=e.form_email,r=e.form_password,l=e.form_gender,o=e.form_jobrole,c=e.form_department,i=e.form_address,s=e.form_avatarurl,m=e.form_userrole;return function(){var e=Object(p.a)(d.a.mark((function e(u){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.a.post("".concat(E,"/api/v1/auth/create-user"),{firstname:t,lastname:a,email:n,password:r,gender:l,jobrole:o,department:c,address:i,avatarurl:s,userrole:m}).then((function(e){var t=e.data.data,a=t.firstname,n=t.email,r=t.id,l=t.token;u(j({user:{firstname:a,email:n,id:r,token:l}}))})).catch((function(e){var t=e.response.data.error;u(w({error:t}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(e)),a(!0),n(),a(!1)}},(function(e){var t=e.isSubmitting;return r.a.createElement(z.Form,null,r.a.createElement(T.a,{container:!0,spacing:3},r.a.createElement(T.a,{item:!0,xs:12,md:6},r.a.createElement(z.Field,{required:!0,component:_.TextField,type:"text",name:"form_firstname",label:"Firstname"})),r.a.createElement(T.a,{item:!0,xs:12,md:6},r.a.createElement(z.Field,{required:!0,component:_.TextField,type:"text",name:"form_lastname",label:"Latname"})),r.a.createElement(T.a,{item:!0,xs:12,md:6},r.a.createElement(z.Field,{required:!0,component:_.TextField,type:"text",name:"form_email",label:"Email"})),r.a.createElement(T.a,{item:!0,xs:12,md:6},r.a.createElement(z.Field,{required:!0,component:_.TextField,type:"password",name:"form_password",label:"Password"})),r.a.createElement(T.a,{item:!0,xs:12,md:6},r.a.createElement(z.Field,{required:!0,component:_.TextField,type:"text",name:"form_department",label:"Department"})),r.a.createElement(T.a,{item:!0,xs:12,md:6},r.a.createElement(z.Field,{required:!0,component:_.TextField,type:"text",name:"form_jobrole",label:"Jobrole"})),r.a.createElement(T.a,{item:!0,xs:12,md:6},r.a.createElement(z.Field,{id:"outlined-full-width",required:!0,name:"form_gender",label:"Gender",options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"}],component:Qe.Select})),r.a.createElement(T.a,{item:!0,xs:12,md:6},r.a.createElement(z.Field,{required:!0,component:_.TextField,type:"text",name:"form_address",label:"Address"})),r.a.createElement(T.a,{item:!0,xs:12,md:6},r.a.createElement(z.Field,{required:!0,component:_.TextField,type:"text",name:"form_avatarurl",label:"Avatar Url"})),r.a.createElement(T.a,{item:!0,xs:12,md:6},r.a.createElement(z.Field,{id:"outlined-full-width",required:!0,name:"form_userole",label:"Userole",options:[{value:"Admin",label:"Admin"},{value:"Employee",label:"Employee"}],component:Qe.Select}))),r.a.createElement(J.a,{type:"submit",disabled:t,variant:"contained",color:"primary",align:"center",style:{marginTop:20}},"Submit"))})))))))},na=a(138),ra=function(e){var t=e.component,a=Object(na.a)(e,["component"]),n=Object(m.c)(C).user;return r.a.createElement(i.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(i.a,{to:{pathname:"/login",state:{from:e.location}}})}}))};var la=function(){return r.a.createElement(c.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(he,null),r.a.createElement("div",null,r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/",exact:!0,component:ye}),r.a.createElement(i.b,{path:"/login",component:H}),r.a.createElement(i.b,{path:"/register",component:aa}),r.a.createElement(ra,{path:"/feeds",component:De}),r.a.createElement(ra,{path:"/articles",exact:!0,component:st}),r.a.createElement(ra,{path:"/articles/:id",component:ea}),r.a.createElement(i.b,{path:"*",component:ye})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var oa=a(33),ca=Object(oa.c)({user:A,feeds:Ae,articles:$e,article:qt}),ia=Object(f.a)({reducer:ca});o.a.render(r.a.createElement(m.a,{store:ia},r.a.createElement(la,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},80:function(e,t,a){e.exports=a.p+"static/media/article.ce9054d4.jpg"},81:function(e,t,a){e.exports=a.p+"static/media/avatar.62c60e3f.jpg"}},[[156,1,2]]]);
//# sourceMappingURL=main.9ea31e90.chunk.js.map